<template name="ModalAddDevice">
    <div class="modal fade" id="add_device" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document" style="margin-top:20%">
            <div class="modal-content">
                <div class="modal-header">
                    {{>yield "modalHeader"}}
                </div>
                <div class="modal-body">
                    {{>yield "modalBody"}}
                    <div class="tab-content">
                        {{#each modules}}
                        <div id="gang{{index}}" class="tab-pane fade">
                            {{>yield region}}
                        </div>
                        {{/each}}
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="configure" type="button" class="{{showConfig}} btn btn-raised btn-block btn-primary">Next <span class="glyphicon glyphicon-chevron-right"></span></button>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="Body4Gang">
    <div class="tab-content">
        {{#each modules}}
        <div id="gang{{index}}" class="tab-pane fade">
            {{>yield region}}
        </div>
        {{/each}}
    </div>
</template>

<template name="Body2Gang">
    <div class="tab-content">
        {{#each modules}}
        <div id="gang{{index}}" class="tab-pane fade">
            {{>yield region}}
        </div>
        {{/each}}
    </div>
</template>

<template name="FragmentAdd">
    <form id="form-{{index}}" data-idx="{{index}}">
        {{#if found}}
            <div class="form-group text-right">
                <label style="width: 15%" class="text-center t-vmiddle">
                    <i id="icon-{{index}}" style="font-size: 24px" class="dicon-{{icon.icon}}"></i>
                </label>
                <input type='text' class="text-left form-control w-percent-80" value="{{icon.title}}" readonly>
            </div>
            <div class="form-group text-right">
                <label class="t-vmiddle">Name</label>
                <input type="text" class="gangname form-control w-percent-80" placeholder="Switch name" value="{{foundName}}" readonly>
            </div>
            <div class="form-group text-right">
                <label class="t-vmiddle">Room</label>
                <input type="text" class="form-control w-percent-80" placeholder="Room name" readonly value="{{roomName}}">
            </div>
            <button type="button" data-idx="{{index}}" disabled class="{{showAdd}} btn btn-block btn-primary addBtn">Add button #{{index}}</button>
        {{else}}
            <div class="form-group text-right">
                <label style="width: 15%" class="text-center t-vmiddle">
                    <i id="icon-{{index}}" style="font-size: 24px" class="dicon-{{icon.icon}}"></i>
                </label>
                <select name="devtype" class="list_group list-down">
                    <option value="-1">choose ...</option>
                    {{#each devTypes}}
                    <option value="{{@index}}">{{title}}</option>
                    {{/each}}
                </select>
            </div>
            <div class="form-group text-right">
                <label class="t-vmiddle">Name</label>
                <input type="text" class="gangname form-control w-percent-80" placeholder="Switch name" required>
            </div>
            <div class="form-group text-right">
                <label class="t-vmiddle">Room</label>
                <input type="text" class="form-control w-percent-80" placeholder="Room name" readonly value="{{roomName}}">
            </div>
            <button type="button" data-idx="{{index}}" data-btnIdx="{{btnIdx}}" class="{{showAdd}} btn btn-block btn-primary addBtn">Add button #{{index}}</button>
        {{/if}}
    </form>
</template>

<template name="FragmentAddCurtain">
    <div class="form-group text-right">
        <label style="width: 15%" class="text-center t-vmiddle">
            <i id="icon-0" style="font-size: 24px" class="dicon-curtain" data-value="4"></i>
        </label>
        <input type='text' class="text-left form-control w-percent-80" value="Curtain" readonly>
    </div>
    <div class="form-group text-right">
        <label class="t-vmiddle">Name</label>
        <input type="text" class="gangname form-control w-percent-80" placeholder="Switch name" required>
    </div>
    <div class="form-group text-right">
        <label class="t-vmiddle">Room</label>
        <input type="text" class="form-control w-percent-80" placeholder="Room name" readonly value="{{roomName}}">
    </div>
    <button type="button" class="btn btn-block btn-primary addBtn" data-idx="{{index}}" data-btnIdx="{{btnIdx}}">Add curtain</button>
</template>

<template name="FragmentAddScene">
    <div class="form-group text-right">
        <label style="width: 15%" class="text-center t-vmiddle">
            <i id="icon-{{index}}" style="font-size: 24px" class="dicon-scene" data-value="5"></i>
        </label>
        <input type='text' class="text-left form-control w-percent-80" value="Command" readonly>
    </div>
    <div class="form-group text-right">
        <label class="t-vmiddle">Scene</label>
        <select name="scene" class="list_group list-down">
            <option value="-1">Turn OFF all</option>
            {{#each scenes}}
            <option value="{{id}}">{{name}}</option>
            {{/each}}
        </select>
    </div>
    <div class="form-group text-right">
        <label class="t-vmiddle">Room</label>
        <input type="text" class="form-control w-percent-80" placeholder="Room name" readonly value="{{roomName}}">
    </div>
    <button type="button" class="btn btn-block btn-primary addBtn" data-idx="{{index}}" data-btnIdx="{{btnIdx}}">Add command button</button>
</template>
<template name="HeaderTitle">
    <h5>Choose your touch switch</h5>
</template>
<template name="Header4Gang">
    <ul class="nav nav-pills" style="position: relative; text-align: center; height: 90px;">
        {{#each modules}}
        <li class="{{pos}}"><a data-toggle="pill" data-index="{{index}}" href="#gang{{index}}">Button {{index}}</a></li>
        {{/each}}
        <div class="hline"></div>
        <div class="vline"></div>
    </ul>
</template>

<template name="Header2Gang">
    <ul class="nav nav-pills" style="position: relative; text-align: center; height: 45px;">
        {{#each modules}}
        <li class="{{pos}}"><a data-toggle="pill" data-index="{{index}}" href="#gang{{index}}">Button {{index}}</a></li>
        {{/each}}
        <div class="vline"></div>
    </ul>
</template>

<template name="HeaderCurtain">
    <ul class="nav nav-pills">
        <li style="width:100%" class="text-center"><a data-toggle="pill" data-index="0" href="#gang0">Curtain</a></li>
    </ul>
</template>

<template name="HeaderCurtainSwitch">
    <ul class="nav nav-pills" style="position: relative; text-align: center; height: 90px;">
        <li style="width:100%" class="pos-lt active"><a data-toggle="pill" data-index="0" href="#curtain">Curtain</a></li>
        <li class="col-xs-6 pos-lb"><a data-toggle="pill" data-index="2" href="#gang2">Button 2</a></li>
        <li class="col-xs-6 pos-rb"><a data-toggle="pill" data-index="3" href="#gang3">Button 3</a></li>
        <div class="hline"></div>
        <div class="vline" style="height: 50%;top:50%"></div>
    </ul>
</template>

<template name="BodyStage1">
    <div class="form-group">
        <h4 class="text-left">(1) Choose your switch,</h4>
        <h4 class="text-left">(2) reset a Smart IO gang box,</h4> 
        <h4>(3) then press "Next"</h4>
    </div>
    <div class="form-group">
        <select name="gangtype" class="list_group list-down">
            <option value="-1">choose gang type ...</option>
            <option value="0">4-gang switch</option>
            <option value="1">2-gang switch</option>
            <option value="2">Curtain-2</option>
            <option value="3">Curtain-2, switch-2</option>
        </select>
    </div>
</template>

<template name="BodyCurtain">
    <div class="tab-content">
        <div id="gang0" class="tab-pane fade in active">
            {{#if hasSwitchFree}}
                {{>yield "curtain"}}
            {{else}}
                <p class="text-justify">Cannot setup a curtain since there are not enough available relays</p>
                <button type="button" data-idx="0" disabled class="btn btn-block btn-primary addBtn">Add curtain</button>
            {{/if}}
        </div>
    </div>
</template>

<template name="BodyCurtainSwitch">
    <div class="tab-content">
        {{#if hasSwitchFree}}
        <div id="curtain" class="tab-pane fade in active">
            {{>yield "curtain"}}
        </div>
        {{else}}
        <div id="curtain" class="tab-pane fade in active">
            <p class="text-justify">Cannot setup a curtain since there are not enough available relays </p>
            <button type="button" data-idx="0" disabled class="btn btn-block btn-primary addBtn">Add curtain</button>
        </div>
        {{/if}}
        <div id="gang2" class="tab-pane fade">
            {{>yield "switch-3"}}
        </div>
        <div id="gang3" class="tab-pane fade">
            {{>yield "switch-4"}}
        </div>
    </div>
</template>
